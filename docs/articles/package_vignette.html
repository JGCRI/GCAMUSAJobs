<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>package_vignette • GCAMUSAJobs</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.0/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.0/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="package_vignette">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">GCAMUSAJobs</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html">Home</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/methods.html">Methods</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/package_vignette.html">package_vignette</a></li>
    <li><a class="dropdown-item" href="../articles/user_notice.html">user_notice</a></li>
    <li><a class="dropdown-item" href="../articles/casestudy.html">case study</a></li>
    <li><a class="dropdown-item" href="../articles/limitations.html">limitations</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>package_vignette</h1>
            
      

      <div class="d-none name"><code>package_vignette.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">GCAMUSAJobs</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://yihui.org/knitr/" class="external-link">knitr</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="step1-read-in-gcam-output">Step1: read in GCAM output<a class="anchor" aria-label="anchor" href="#step1-read-in-gcam-output"></a>
</h2>
<p>This step reads in GCAM output of interest in alternative file
types.</p>
<p>Use a local GCAM output database</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prj</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ReadGCAM.html">ReadGCAM</a></span><span class="op">(</span>filetype <span class="op">=</span> <span class="st">'db'</span>,</span>
<span>                        input_path <span class="op">=</span> <span class="st">"C:/GODEEP/GCAM7/output"</span>,</span>
<span>                        db_name <span class="op">=</span> <span class="st">"database_basexdbGCAM-USA_Ref"</span>,</span>
<span>                        scen_name <span class="op">=</span> <span class="st">"GCAM-USA_Ref"</span>, <span class="co"># this needs to match the scenario name specified in the DB</span></span>
<span>                        prj_name <span class="op">=</span> <span class="st">"mydata.dat"</span><span class="op">)</span> <span class="co"># you name it</span></span></code></pre></div>
<p>Use a local project data</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prj</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ReadGCAM.html">ReadGCAM</a></span><span class="op">(</span>filetype <span class="op">=</span> <span class="st">'prj'</span>,</span>
<span>                input_path <span class="op">=</span> <span class="st">"C:/GODEEP/"</span>,</span>
<span>                prj_name <span class="op">=</span> <span class="st">"package.dat"</span><span class="op">)</span></span></code></pre></div>
<p>Use the default data (GCAM-USA 7.1 reference) in the package</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prj</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ReadGCAM.html">ReadGCAM</a></span><span class="op">(</span>filetype <span class="op">=</span> <span class="st">'prj'</span>,</span>
<span>                input_path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, package <span class="op">=</span> <span class="st">"GCAMUSAJobs"</span><span class="op">)</span>,</span>
<span>                prj_name <span class="op">=</span> <span class="st">"package.dat"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="step2-calculate-detailed-power-generation-outcomes">Step2: calculate detailed power generation outcomes<a class="anchor" aria-label="anchor" href="#step2-calculate-detailed-power-generation-outcomes"></a>
</h2>
<p>This step queries power generation from GCAM output, which provides
generation for all capacity in operation, and calculates the implied
power generation associated with installed capacity, newly added
capacity, and retired capacity. The specific types of generation
(“activities”) calculated are: Capacity in operation:
<strong>running</strong>, <strong>installed</strong>; Capacity addition:
<strong>additions</strong>, <strong>add_adj</strong>; Capacity
retirements: <strong>retirements</strong>,
<strong>natural_retire</strong>, <strong>early_retire</strong>,
<strong>early_ret_adj</strong>, and <strong>ret_adj</strong>. The “_adj”
activities indicate different methods of calculation (net vs. total, see
Step 4). Please refer to <a href="https://jgcri.github.io/GCAMUSAJobs/articles/methods.html">Methods</a>
for details.</p>
<p>The power generation output is annual, broken down by state, fuel
type, and technology. This step takes about 20 seconds to execute and
generate output for a given scenario.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">EJ_activity</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GCAM_EJ.html">GCAM_EJ</a></span><span class="op">(</span><span class="va">prj</span><span class="op">)</span></span></code></pre></div>
<p><strong>Show a subset of the outcomes</strong></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">EJ_activity</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">region</span> <span class="op">==</span> <span class="st">"TX"</span>, <span class="va">Year</span> <span class="op">==</span> <span class="fl">2050</span><span class="op">)</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 10 × 10</span></span></span>
<span><span class="co">#&gt;    scenario     region subsector        technology   Year Units   value activity</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> GCAM-USA_Ref TX     CSP_base_storage CSP_base_s…  <span style="text-decoration: underline;">2</span>050 EJ    8.09<span style="color: #949494;">e</span><span style="color: #BB0000;">-3</span> running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> GCAM-USA_Ref TX     CSP_int          CSP_int(dr…  <span style="text-decoration: underline;">2</span>050 EJ    3.22<span style="color: #949494;">e</span><span style="color: #BB0000;">-2</span> running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> GCAM-USA_Ref TX     CSP_int          CSP_int(re…  <span style="text-decoration: underline;">2</span>050 EJ    3.22<span style="color: #949494;">e</span><span style="color: #BB0000;">-2</span> running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> GCAM-USA_Ref TX     CSP_peak         CSP_peak(d…  <span style="text-decoration: underline;">2</span>050 EJ    9.01<span style="color: #949494;">e</span><span style="color: #BB0000;">-4</span> running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> GCAM-USA_Ref TX     CSP_peak         CSP_peak(r…  <span style="text-decoration: underline;">2</span>050 EJ    9.01<span style="color: #949494;">e</span><span style="color: #BB0000;">-4</span> running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> GCAM-USA_Ref TX     CSP_subpeak      CSP_subpea…  <span style="text-decoration: underline;">2</span>050 EJ    6.96<span style="color: #949494;">e</span><span style="color: #BB0000;">-3</span> running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> GCAM-USA_Ref TX     CSP_subpeak      CSP_subpea…  <span style="text-decoration: underline;">2</span>050 EJ    6.96<span style="color: #949494;">e</span><span style="color: #BB0000;">-3</span> running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> GCAM-USA_Ref TX     PV_base_storage  PV_base_st…  <span style="text-decoration: underline;">2</span>050 EJ    1.86<span style="color: #949494;">e</span><span style="color: #BB0000;">-3</span> running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> GCAM-USA_Ref TX     PV_int           PV_int       <span style="text-decoration: underline;">2</span>050 EJ    4.18<span style="color: #949494;">e</span><span style="color: #BB0000;">-1</span> running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> GCAM-USA_Ref TX     PV_peak          PV_peak      <span style="text-decoration: underline;">2</span>050 EJ    1.16<span style="color: #949494;">e</span><span style="color: #BB0000;">-2</span> running </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 2 more variables: capacity.factor &lt;dbl&gt;, fuel &lt;chr&gt;</span></span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">EJ_activity</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">region</span> <span class="op">==</span> <span class="st">"CA"</span>, <span class="va">Year</span> <span class="op">==</span> <span class="fl">2050</span><span class="op">)</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 10 × 10</span></span></span>
<span><span class="co">#&gt;    scenario     region subsector        technology   Year Units   value activity</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> GCAM-USA_Ref CA     CSP_base_storage CSP_base_s…  <span style="text-decoration: underline;">2</span>050 EJ    8.70<span style="color: #949494;">e</span><span style="color: #BB0000;">-3</span> running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> GCAM-USA_Ref CA     CSP_int          CSP_int(dr…  <span style="text-decoration: underline;">2</span>050 EJ    2.79<span style="color: #949494;">e</span><span style="color: #BB0000;">-2</span> running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> GCAM-USA_Ref CA     CSP_int          CSP_int(re…  <span style="text-decoration: underline;">2</span>050 EJ    2.79<span style="color: #949494;">e</span><span style="color: #BB0000;">-2</span> running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> GCAM-USA_Ref CA     CSP_peak         CSP_peak(d…  <span style="text-decoration: underline;">2</span>050 EJ    6.37<span style="color: #949494;">e</span><span style="color: #BB0000;">-4</span> running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> GCAM-USA_Ref CA     CSP_peak         CSP_peak(r…  <span style="text-decoration: underline;">2</span>050 EJ    6.37<span style="color: #949494;">e</span><span style="color: #BB0000;">-4</span> running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> GCAM-USA_Ref CA     CSP_subpeak      CSP_subpea…  <span style="text-decoration: underline;">2</span>050 EJ    4.83<span style="color: #949494;">e</span><span style="color: #BB0000;">-3</span> running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> GCAM-USA_Ref CA     CSP_subpeak      CSP_subpea…  <span style="text-decoration: underline;">2</span>050 EJ    4.83<span style="color: #949494;">e</span><span style="color: #BB0000;">-3</span> running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> GCAM-USA_Ref CA     PV_base_storage  PV_base_st…  <span style="text-decoration: underline;">2</span>050 EJ    1.79<span style="color: #949494;">e</span><span style="color: #BB0000;">-3</span> running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> GCAM-USA_Ref CA     PV_int           PV_int       <span style="text-decoration: underline;">2</span>050 EJ    1.57<span style="color: #949494;">e</span><span style="color: #BB0000;">-1</span> running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> GCAM-USA_Ref CA     PV_peak          PV_peak      <span style="text-decoration: underline;">2</span>050 EJ    3.57<span style="color: #949494;">e</span><span style="color: #BB0000;">-3</span> running </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 2 more variables: capacity.factor &lt;dbl&gt;, fuel &lt;chr&gt;</span></span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="step3-calculate-detailed-capacity-outcomes">Step3: calculate detailed capacity outcomes<a class="anchor" aria-label="anchor" href="#step3-calculate-detailed-capacity-outcomes"></a>
</h2>
<p>This step derives the underlying facility capacity by different
activities based on power generation outcome in <strong>Step 2</strong>.
Capacity outcome of this step is at annual level by state, fuel type,
and technology.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">GW_activity</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GCAM_GW.html">GCAM_GW</a></span><span class="op">(</span><span class="va">EJ_activity</span><span class="op">)</span></span></code></pre></div>
<p><strong>Show a subset of the outcomes</strong></p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">GW_activity</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">region</span> <span class="op">==</span> <span class="st">"TX"</span>, <span class="va">Year</span> <span class="op">==</span> <span class="fl">2050</span><span class="op">)</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 10 × 10</span></span></span>
<span><span class="co">#&gt;    scenario     region subsector        technology   Year Units   value activity</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> GCAM-USA_Ref TX     CSP_base_storage CSP_base_s…  <span style="text-decoration: underline;">2</span>050 GW     0.493  running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> GCAM-USA_Ref TX     CSP_int          CSP_int(dr…  <span style="text-decoration: underline;">2</span>050 GW     3.19   running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> GCAM-USA_Ref TX     CSP_int          CSP_int(re…  <span style="text-decoration: underline;">2</span>050 GW     3.19   running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> GCAM-USA_Ref TX     CSP_peak         CSP_peak(d…  <span style="text-decoration: underline;">2</span>050 GW     0.089<span style="text-decoration: underline;">3</span> running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> GCAM-USA_Ref TX     CSP_peak         CSP_peak(r…  <span style="text-decoration: underline;">2</span>050 GW     0.089<span style="text-decoration: underline;">3</span> running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> GCAM-USA_Ref TX     CSP_subpeak      CSP_subpea…  <span style="text-decoration: underline;">2</span>050 GW     0.689  running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> GCAM-USA_Ref TX     CSP_subpeak      CSP_subpea…  <span style="text-decoration: underline;">2</span>050 GW     0.689  running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> GCAM-USA_Ref TX     PV_base_storage  PV_base_st…  <span style="text-decoration: underline;">2</span>050 GW     0.219  running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> GCAM-USA_Ref TX     PV_int           PV_int       <span style="text-decoration: underline;">2</span>050 GW    49.1    running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> GCAM-USA_Ref TX     PV_peak          PV_peak      <span style="text-decoration: underline;">2</span>050 GW     1.36   running </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 2 more variables: capacity.factor &lt;dbl&gt;, fuel &lt;chr&gt;</span></span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">GW_activity</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">region</span> <span class="op">==</span> <span class="st">"CA"</span>, <span class="va">Year</span> <span class="op">==</span> <span class="fl">2050</span><span class="op">)</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 10 × 10</span></span></span>
<span><span class="co">#&gt;    scenario     region subsector        technology   Year Units   value activity</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> GCAM-USA_Ref CA     CSP_base_storage CSP_base_s…  <span style="text-decoration: underline;">2</span>050 GW     0.476  running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> GCAM-USA_Ref CA     CSP_int          CSP_int(dr…  <span style="text-decoration: underline;">2</span>050 GW     2.33   running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> GCAM-USA_Ref CA     CSP_int          CSP_int(re…  <span style="text-decoration: underline;">2</span>050 GW     2.33   running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> GCAM-USA_Ref CA     CSP_peak         CSP_peak(d…  <span style="text-decoration: underline;">2</span>050 GW     0.053<span style="text-decoration: underline;">1</span> running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> GCAM-USA_Ref CA     CSP_peak         CSP_peak(r…  <span style="text-decoration: underline;">2</span>050 GW     0.053<span style="text-decoration: underline;">1</span> running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> GCAM-USA_Ref CA     CSP_subpeak      CSP_subpea…  <span style="text-decoration: underline;">2</span>050 GW     0.403  running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> GCAM-USA_Ref CA     CSP_subpeak      CSP_subpea…  <span style="text-decoration: underline;">2</span>050 GW     0.403  running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> GCAM-USA_Ref CA     PV_base_storage  PV_base_st…  <span style="text-decoration: underline;">2</span>050 GW     0.196  running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> GCAM-USA_Ref CA     PV_int           PV_int       <span style="text-decoration: underline;">2</span>050 GW    17.1    running </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> GCAM-USA_Ref CA     PV_peak          PV_peak      <span style="text-decoration: underline;">2</span>050 GW     0.390  running </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 2 more variables: capacity.factor &lt;dbl&gt;, fuel &lt;chr&gt;</span></span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="step4-calculate-detailed-job-outcomes">Step4: calculate detailed job outcomes<a class="anchor" aria-label="anchor" href="#step4-calculate-detailed-job-outcomes"></a>
</h2>
<p>This step calculates jobs based on the capacity activity outcome from
<strong>Step 3</strong>, providing annual jobs by job type, state, fuel
type, and load segment (base, intermittent, sub-peak, peak). The
function accepts up to two arguments: the first is the capacity outcome
from Step 3, and the second is an optional method indicator.</p>
<p>When the <strong>Total</strong> method is used (default), capacity
additions and pre-mature retirements within a region can occur
simultaneously for a technology, and jobs are calculated for all
capacity activities. Under the <strong>Net</strong> method, it assumes
that capacity addition and pre-mature retirement don’t happen in the
same period for a technology within the same period, and jobs are
calculated based on net capacity changes.</p>
<p><strong>Default: use the <em>Total</em> method</strong></p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">JOB_activity</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GCAM_JOB.html">GCAM_JOB</a></span><span class="op">(</span><span class="va">GW_activity</span><span class="op">)</span></span></code></pre></div>
<p><strong>Specify to use the <em>Total</em> method</strong></p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">JOB_activity2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GCAM_JOB.html">GCAM_JOB</a></span><span class="op">(</span><span class="va">GW_activity</span>, <span class="st">"Total"</span><span class="op">)</span></span></code></pre></div>
<p><strong>Specify to use the <em>Net</em> method</strong></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">JOB_activity3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/GCAM_JOB.html">GCAM_JOB</a></span><span class="op">(</span><span class="va">GW_activity</span>, <span class="st">"Net"</span><span class="op">)</span></span></code></pre></div>
<p><strong>Compare outcomes with <em>Total</em> and <em>Net</em>
methods</strong></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">JOB_activity3</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>Net <span class="op">=</span> <span class="va">value</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">JOB_activity</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>Total <span class="op">=</span> <span class="va">value</span><span class="op">)</span>,</span>
<span>                   by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"scenario"</span>, <span class="st">"region"</span>, <span class="st">"Year"</span>, <span class="st">"fuel"</span>, <span class="st">"subsector"</span>, <span class="st">"job"</span>, <span class="st">"Units"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">region</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CA"</span>, <span class="st">"TX"</span><span class="op">)</span>, <span class="va">Year</span> <span class="op">==</span> <span class="fl">2025</span>, <span class="va">subsector</span> <span class="op">==</span> <span class="st">"gas_peak_CC"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">region</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fl">15</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 12 × 9</span></span></span>
<span><span class="co">#&gt;    scenario     region  Year fuel  subsector   Units job               Net Total</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> GCAM-USA_Ref CA      <span style="text-decoration: underline;">2</span>025 gas   gas_peak_CC ppl   OM_fixed           72    72</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> GCAM-USA_Ref CA      <span style="text-decoration: underline;">2</span>025 gas   gas_peak_CC ppl   OM_var              1     1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> GCAM-USA_Ref CA      <span style="text-decoration: underline;">2</span>025 gas   gas_peak_CC ppl   OM_total           73    73</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> GCAM-USA_Ref CA      <span style="text-decoration: underline;">2</span>025 gas   gas_peak_CC ppl   Construction-o…     0     1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> GCAM-USA_Ref CA      <span style="text-decoration: underline;">2</span>025 gas   gas_peak_CC ppl   Construction-r…     0     1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> GCAM-USA_Ref CA      <span style="text-decoration: underline;">2</span>025 gas   gas_peak_CC ppl   Decommission      102   103</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> GCAM-USA_Ref TX      <span style="text-decoration: underline;">2</span>025 gas   gas_peak_CC ppl   OM_fixed          177   177</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> GCAM-USA_Ref TX      <span style="text-decoration: underline;">2</span>025 gas   gas_peak_CC ppl   OM_var              1     1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> GCAM-USA_Ref TX      <span style="text-decoration: underline;">2</span>025 gas   gas_peak_CC ppl   OM_total          178   178</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> GCAM-USA_Ref TX      <span style="text-decoration: underline;">2</span>025 gas   gas_peak_CC ppl   Construction-o…     0     3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> GCAM-USA_Ref TX      <span style="text-decoration: underline;">2</span>025 gas   gas_peak_CC ppl   Construction-r…     0     2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> GCAM-USA_Ref TX      <span style="text-decoration: underline;">2</span>025 gas   gas_peak_CC ppl   Decommission      217   221</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="step5-plot-employment-factor">Step5: plot employment factor<a class="anchor" aria-label="anchor" href="#step5-plot-employment-factor"></a>
</h2>
<p>This step plots the employment factor from the <a href="https://www.nrel.gov/analysis/jedi/models.html" class="external-link">JEDI</a> model.
Please refer to the <a href="https://jgcri.github.io/GCAMUSAJobs/articles/methods.html">Methods</a>
for details. Each point represents the employment factor of a state.</p>
<p>Running the function with no argument plots employment factors of all
states.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/PLOT_EF.html">PLOT_EF</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="package_vignette_files/figure-html/unnamed-chunk-11-1.png" width="1728"></p>
<p>Specifying a state of interest plots the employment factor of the
chosen state.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/PLOT_EF.html">PLOT_EF</a></span><span class="op">(</span><span class="st">"CO"</span><span class="op">)</span></span></code></pre></div>
<p><img src="package_vignette_files/figure-html/unnamed-chunk-12-1.png" width="1728"></p>
</div>
<div class="section level2">
<h2 id="step6-plot-capacity-activities">Step6: plot capacity activities<a class="anchor" aria-label="anchor" href="#step6-plot-capacity-activities"></a>
</h2>
<p>This step plots the annual average capacity by fuel and activity that
is assumed to exist throughout each GCAM model timestep (by default GCAM
uses 5 year steps). Red + Green is the total capacity in operation in a
year, where red bars denote the capacity in operation that is newly
installed in a given year, and green denotes the capacity in operation
was built in the past; Blue bars denote the capacity change due to
retirement.</p>
<p>National level</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/PLOT_GW.html">PLOT_GW</a></span><span class="op">(</span><span class="va">GW_activity</span><span class="op">)</span></span></code></pre></div>
<p><img src="package_vignette_files/figure-html/unnamed-chunk-13-1.png" width="1152"></p>
<p>Colorado</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/PLOT_GW.html">PLOT_GW</a></span><span class="op">(</span><span class="va">GW_activity</span>, <span class="st">"CO"</span><span class="op">)</span></span></code></pre></div>
<p><img src="package_vignette_files/figure-html/unnamed-chunk-14-1.png" width="1152"></p>
</div>
<div class="section level2">
<h2 id="step7-plot-job-by-fuel-and-types">Step7: plot job by fuel and types<a class="anchor" aria-label="anchor" href="#step7-plot-job-by-fuel-and-types"></a>
</h2>
<p>This step plots the power sector average annual direct job by fuel
and job type that are assumed to exist throughout each GCAM model
timestep (by default GCAM uses 5 year steps).</p>
<p>National level</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/PLOT_JOB.html">PLOT_JOB</a></span><span class="op">(</span><span class="va">JOB_activity</span><span class="op">)</span></span></code></pre></div>
<p><img src="package_vignette_files/figure-html/unnamed-chunk-15-1.png" width="1152"></p>
<p>Colorado</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/PLOT_JOB.html">PLOT_JOB</a></span><span class="op">(</span><span class="va">JOB_activity</span>, <span class="st">"CO"</span><span class="op">)</span></span></code></pre></div>
<p><img src="package_vignette_files/figure-html/unnamed-chunk-16-1.png" width="1152"></p>
</div>
<div class="section level2">
<h2 id="step8-plot-job-by-job-types">Step8: plot job by job types<a class="anchor" aria-label="anchor" href="#step8-plot-job-by-job-types"></a>
</h2>
<p>This step plots the power sector average annual direct jobs by job
type that are assumed to exist throughout each GCAM model timestep (by
default GCAM uses 5 year step).</p>
<p>National level</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/PLOT_JOB_TYPE.html">PLOT_JOB_TYPE</a></span><span class="op">(</span><span class="va">JOB_activity</span><span class="op">)</span></span></code></pre></div>
<p><img src="package_vignette_files/figure-html/unnamed-chunk-17-1.png" width="1152"></p>
<p>Colorado</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/PLOT_JOB_TYPE.html">PLOT_JOB_TYPE</a></span><span class="op">(</span><span class="va">JOB_activity</span>, <span class="st">"CO"</span><span class="op">)</span></span></code></pre></div>
<p><img src="package_vignette_files/figure-html/unnamed-chunk-18-1.png" width="1152"></p>
</div>
<div class="section level2">
<h2 id="step9-job-by-state-of-a-given-year">Step9: job by state of a given year<a class="anchor" aria-label="anchor" href="#step9-job-by-state-of-a-given-year"></a>
</h2>
<p>This step maps out the state-level power sector direct job in a given
year.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/MAP_JOB.html">MAP_JOB</a></span><span class="op">(</span><span class="va">JOB_activity</span>, <span class="fl">2020</span><span class="op">)</span></span></code></pre></div>
<p><img src="package_vignette_files/figure-html/unnamed-chunk-19-1.png" width="1536"></p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/MAP_JOB.html">MAP_JOB</a></span><span class="op">(</span><span class="va">JOB_activity</span>, <span class="fl">2050</span><span class="op">)</span></span></code></pre></div>
<p><img src="package_vignette_files/figure-html/unnamed-chunk-20-1.png" width="1536"></p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/MAP_JOB.html">MAP_JOB</a></span><span class="op">(</span><span class="va">JOB_activity</span>, <span class="fl">2100</span><span class="op">)</span></span></code></pre></div>
<p><img src="package_vignette_files/figure-html/unnamed-chunk-21-1.png" width="1536"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Di Sheng, Ying Zhang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
